---
import { getCollection } from "astro:content";
import { Picture } from "astro:assets";
import Layout from "@layouts/Layout.astro";
import Container from "@components/container.astro";
import Sectionhead from "@components/sectionhead.astro";

// Filter team entries with 'draft: false' & date before current date
const publishedTeamMembers = await getCollection("team", ({ data }) => {
  return !data.draft && data.publishDate < new Date();
});
---

<Layout title="About">
  <Container>
    <Sectionhead>
      <Fragment slot="title">Om oss</Fragment>
      <Fragment slot="desc">Vi er ett lite team som jobber for en bedre, billigere og sunnere hverdag ğŸ¥—</Fragment>
    </Sectionhead>

    <div class="flex flex-col gap-3 mx-auto max-w-4xl mt-16">
      <h2 class="font-bold text-3xl text-gray-800">
       Billigere og sunnere mat til folket!
      </h2>
      <p class="text-lg leading-relaxed text-slate-500">
        Vi er ett lite team som jobber for en bedre, billigere og sunnere hverdag. Vi henter priser og tilbud fra de fleste norske dagligvarebutikker, slik at du kan handle billigere og sunnere mat. Vi jobber kontinuerlig med Ã¥ klassifisere matvarer, slik at du enkelt kan finne sunnere alternativer.
      </p>
      <p class="text-lg leading-relaxed text-slate-500">
        Matlat er en norskutviklet forbrukertjeneste for enklere dagligvarehandel. Vi er uavhengige og mottar ikke midler pÃ¥ andre mÃ¥ter enn gjennom reklameinntektene i appen.
      </p>
    </div>


    <div class="grid md:grid-cols-3 gap-10 mx-auto max-w-4xl mt-12">
      {
        publishedTeamMembers.map((teamMemberEntry) => (
          <div class="group">
            <div class="w-full aspect-square">
              <Picture
                src={teamMemberEntry.data.avatar.src}
                alt={teamMemberEntry.data.avatar.alt}
                sizes="(max-width: 800px) 100vw, 400px"
                width={400}
                height={400}
                class="w-full rounded-md rounded transition group-hover:-translate-y-1 group-hover:shadow-xl bg-white object-cover object-center aspect-square"
              />
            </div>

            <div class="mt-4 text-center">
              <h2 class="text-lg text-gray-800">{teamMemberEntry.data.name}</h2>
              <h3 class="text-sm text-slate-500">
                {teamMemberEntry.data.title}
              </h3>
            </div>
          </div>
        ))
      }
    </div>
  </Container>
</Layout>
